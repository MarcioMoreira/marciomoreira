<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>MÃ¡rcio Moreira | Developer (flat)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    /* Minimal styles inlined so this file runs from file:// */
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,Helvetica,sans-serif;color:#222}
    .container{max-width:960px;margin:0 auto;padding:1rem}
    nav{background:#f8f9fa;padding:.5rem 1rem;border-bottom:1px solid #eee}
    nav .container{display:flex;align-items:center;justify-content:center;gap:1rem;flex-wrap:wrap}
    nav a{margin:0;color:#6c757d;text-decoration:none;padding:1rem 1.5rem}
    /* subtle outline for flat navbar buttons */
    nav a{border-radius:8px; box-shadow: 0 0 0 1px rgba(0,123,255,0.06) inset; transition: box-shadow 180ms ease, transform 120ms ease, background-color 180ms ease}
    nav a:hover, nav a:focus, nav a:active{ box-shadow: 0 8px 22px rgba(0,123,255,0.08), 0 0 0 2px rgba(0,123,255,0.12) inset; transform: translateY(-1px); background-color: rgba(0,123,255,0.04) }
    nav a:focus-visible{ outline: 3px solid rgba(0,123,255,0.12); outline-offset: 4px }
    @media (max-width:600px){ nav .container{flex-direction:column;gap:.5rem} }
    footer{text-align:center;padding:1rem;margin-top:2rem;color:#666}
    h1,h2{margin:0 0 .5rem}
    .lead{color:#555}
    .list-group{list-style:none;padding:0;margin:0}
    .list-group-item{padding:.5rem;border:1px solid #eee;margin-bottom:.5rem}
    /* Center main app text while keeping lists left-aligned */
    #app{ text-align:center }
    .list-group{ text-align:left; display:inline-block; margin:0 auto }
  </style>
</head>
<body>
  <nav id="navbar"></nav>
  <main class="container" id="app"></main>
  <footer id="footer"></footer>

  <script>
    // Flat single-file SPA (no modules, no fetch) â€” works via file://

    /* --- Data service --- */
    function getProjects(){
      return [
        { name: "The Lord of the Bricks", tech: ["Java","OOP"], link: "https://teamsting-canifetes-cfa.itch.io/the-lord-of-the-bricks" },
        { name: "MiniTube", tech: ["JavaScript","HTML","CSS"] }
      ];
    }

    /* --- Views --- */
    /* --- Navbar config (flat) --- */
    var NAV_ITEMS = [
      { hash: '#home', label: 'Home' },
      { hash: '#about', label: 'About' },
      { hash: '#projects', label: 'Projects' },
      { hash: '#contact', label: 'Contact' }
    ];
    function homeView(){
      return `\n      <section class="text-center">\n        <h1 class="mb-3">Hi, Iâ€™m MÃ¡rcio ðŸ‘‹</h1>\n        <p class="lead">Full Stack Developer with Jedi discipline and clean code mojo.</p>\n      </section>`;
    }

    function aboutView(){
      return `\n      <section>\n        <h2>About</h2>\n        <p>This is a small client-side SPA. Edit controllers and views under 'views/' and 'assets/controllers/'.</p>\n      </section>`;
    }

    // Projects view implementation
    function projectsView(projects){
      var items = (projects||[]).map(function(p){
        return '<li class="list-group-item">' +
          '<strong>' + (p.name||'') + '</strong>' +
          '<div class="text-muted small">' + ((p.tech||[]).join(', ')) + '</div>' +
        '</li>';
      }).join('');
      return `\n      <section>\n        <h2>Projects</h2>\n        <ul class="list-group">${items}</ul>\n      </section>`;
    }

    function contactView(){
      return `\n      <section>\n        <h2>Contact</h2>\n        <p>You can reach me via links in the navbar.</p>\n      </section>`;
    }

    /* --- Controllers (thin) --- */
    function homeController(){ document.getElementById('app').innerHTML = homeView(); }
    function aboutController(){ document.getElementById('app').innerHTML = aboutView(); }
    function projectsController(){ var p = getProjects(); document.getElementById('app').innerHTML = projectsView(p); }
    function contactController(){ document.getElementById('app').innerHTML = contactView(); }

    /* --- Router --- */
    var routes = {
      '': homeController,
      '#home': homeController,
      '#about': aboutController,
      '#projects': projectsController,
      '#contact': contactController
    };
    function router(){
      var hash = window.location.hash;
      var controller = routes[hash] || homeController;
      controller();
    }

    /* --- Static components (no fetch) --- */
    function renderNavbar(){
      var html = '<div class="container">' +
        NAV_ITEMS.map(function(it){ return '<a href="'+it.hash+'" data-hash="'+it.hash+'">'+it.label+'</a>'; }).join('') +
      '</div>';
      document.getElementById('navbar').innerHTML = html;

      function updateActive(){
        var hash = window.location.hash || '#home';
        document.querySelectorAll('#navbar a').forEach(function(a){
          if(a.dataset.hash === hash) a.classList.add('active'); else a.classList.remove('active');
        });
      }

      updateActive();
      window.addEventListener('hashchange', updateActive);
    }
    function renderFooter(){ document.getElementById('footer').innerHTML = '<div class="container"><p class="small">Â© MÃ¡rcio Moreira</p></div>'; }

    /* --- Init --- */
    function init(){
      try{
        renderNavbar(); renderFooter(); router();
      }catch(e){
        var app = document.getElementById('app'); if(app) app.innerHTML = '<pre style="color:red">Init error: '+ (e && e.message || e) +'</pre>';
        console.error(e);
      }
    }

    window.addEventListener('hashchange', router);
    window.addEventListener('load', init);
  </script>
</body>
</html>
